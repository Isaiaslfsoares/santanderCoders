<!DOCTYPE html>
<html>

<head>
    <title>Filmes Top 100</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <main>
        <h1>Cadastro para receber Filme Grátis</h1>
    </main>
    <a href="" > Edicao</a>
    <form id="formulario" action="" method="GET" onsubmit="receberFilme(event)">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nomeComple" >

        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf-usuario">

        <label for="email">Email:</label>
        <input type="text" id="email" name="email">

        <label for="numeroCartao">Número Cartão:</label>
        <input type="text" id="numeroCartao" name="cartao">

        <button id="submit"  type="submit">Receber Filme </button>
    </form>

</body>

<script>



    function receberFilme(event) {

        console.log("evento recebido:",event)
        event.preventDefault()

        const nome = document.getElementById("nome")
        const email = document.getElementById("email")
        const cpf = document.getElementById("cpf")
        const cartao = document.getElementById("numeroCartao")




        console.log("Nome:", nome.value)
        console.log("CPF:", cpf.value)
        console.log("email:", email.value)
        console.log("cartão:", cartao.value)


        const usuario = {
            nomeCompleto: nome.value,
            cpfObtido: cpf.value,
            emailObtido: email.value,
            cartaoObtido: cartao.value
        }

        const adm = {
           login: "email.com",
           role: "adm"
        }


        localStorage.setItem("dadosUsuario", JSON.stringify(usuario))
        localStorage.setItem("administrador", JSON.stringify(adm))

        const usuarioObtido = localStorage.getItem("usuario")

        console.log("usuarioObtido", JSON.parse(usuarioObtido))

        window.location = '/paginaEdicao.html'
     
    }

</script>

</html>

